{"version":3,"sources":["./src/app/feature/listar-product/components/listar-product.component.html","./src/app/feature/listar-product/components/listar-product.component.scss","./src/app/feature/listar-product/components/listar-product.component.ts","./src/app/feature/listar-product/listar-product-routing.module.ts","./src/app/feature/listar-product/listar-product.module.ts","./src/app/feature/listar-product/shared/services/currency.service.ts","./src/app/feature/listar-product/shared/services/list-products.service.ts"],"names":[],"mappings":"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","file":"feature-listar-product-listar-product-module-es2015.js","sourcesContent":["export default \"<app-main-nav></app-main-nav>\\n\\n<div class=\\\"container\\\">\\n    <div class=\\\"my-4\\\">\\n        <h3>List products of Category {{categoryName}}</h3>\\n    </div>\\n    <ul class=\\\"row list-product\\\">\\n        <li *ngFor=\\\"let product of lista | paginate:{itemsPerPage:3 , currentPage:pageActual}\\\" class=\\\"mx-2 my-2\\\" style=\\\"width: auto;\\\">\\n            <ul class=\\\"row list-product\\\">\\n                <div class=\\\"container card px-1\\\">\\n                    <div class=\\\"card-body\\\">\\n                        <div class=\\\"info-product\\\">\\n                            <div>\\n                                <h5>{{product.name}}</h5>\\n                            </div>\\n                            <div class=\\\"\\\">\\n                                <span class=\\\"\\\">{{product.description}}</span>\\n                            </div>\\n                            <div class=\\\"row\\\">\\n                                <div class=\\\"col\\\">\\n                                    <h6>Precio:</h6>\\n                                </div>\\n                                <div class=\\\"col\\\">\\n                                    <span>COP: ${{product.price}}</span>\\n                                </div>\\n                                <div class=\\\"col\\\">\\n                                    <span>USD: ${{ (product.price / currency.quotes.USDCOP).toFixed(3)}}</span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div *ngFor=\\\"let images of product.images\\\" class=\\\"mx-2 my-2\\\" style=\\\"width: auto;\\\">\\n                            <div class=\\\"media \\\">\\n                                <div class=\\\"media-body\\\">\\n                                    <img class=\\\"rounded mx-auto d-block\\\" id=\\\"product-image\\\" src=\\\"{{images}}\\\">\\n                                    <hr class=\\\"mb-1\\\">\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </ul>\\n        </li>\\n    </ul>\\n    <pagination-controls (pageChange)=\\\"pageActual = $event\\\"></pagination-controls>\\n</div>\"","export default \".list-product {\\n  list-style-type: none;\\n}\\n\\n#product-image {\\n  width: 160px;\\n  height: 160px;\\n}\\n\\n.margin-cero {\\n  margin: 0px 0px 0px 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2p1YW4tZGF2aWQvUmVwb3NpdG9yaW9zL1BlcmZpbFRpYy9QZXJmaWxUaWMvcHJvZHVjdC1zdG9yZS1mcm9udC9zcmMvYXBwL2ZlYXR1cmUvbGlzdGFyLXByb2R1Y3QvY29tcG9uZW50cy9saXN0YXItcHJvZHVjdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVhdHVyZS9saXN0YXItcHJvZHVjdC9jb21wb25lbnRzL2xpc3Rhci1wcm9kdWN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0FDRUo7O0FEQUE7RUFDQSxrQ0FBQTtBQ0dBIiwiZmlsZSI6InNyYy9hcHAvZmVhdHVyZS9saXN0YXItcHJvZHVjdC9jb21wb25lbnRzL2xpc3Rhci1wcm9kdWN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtcHJvZHVjdHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxufVxyXG4jcHJvZHVjdC1pbWFnZXtcclxuICAgIHdpZHRoOiAxNjBweDtcclxuICAgIGhlaWdodDogMTYwcHg7XHJcbn1cclxuLm1hcmdpbi1jZXJve1xyXG5tYXJnaW46IDBweCAwcHggMHB4IDBweCAhaW1wb3J0YW50O1xyXG59IiwiLmxpc3QtcHJvZHVjdCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxuI3Byb2R1Y3QtaW1hZ2Uge1xuICB3aWR0aDogMTYwcHg7XG4gIGhlaWdodDogMTYwcHg7XG59XG5cbi5tYXJnaW4tY2VybyB7XG4gIG1hcmdpbjogMHB4IDBweCAwcHggMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ListProductsService } from '../shared/services/list-products.service';\nimport { Product } from 'src/app/feature/listar-product/shared/interfaces/product';\nimport { Category } from '../../list-category/shared/interfaces/category';\nimport { ListCategoryComponent } from '../../list-category/components/list-category.component';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport Swal from 'sweetalert2';\nimport { CurrencyService } from '../shared/services/currency.service';\nimport { Currency } from '../shared/interfaces/currency';\n\n@Component({\n  selector: 'app-listar-product',\n  templateUrl: './listar-product.component.html',\n  styleUrls: ['./listar-product.component.scss']\n})\nexport class ListarProductComponent implements OnInit {\n  lista: Product[] = [];\n  currency: Currency;\n  pageActual:number = 1;\n  message = '';\n  category:string;\n  categoryName:string;\n  constructor(private service: ListProductsService,\n              private serviceCurrency: CurrencyService) { }\n\n  ngOnInit() {\n    this.getProducts();\n    this.getUsd();\n  }\n   \n   getProducts() {\n     this.category= localStorage.getItem('category');\n     this.categoryName= localStorage.getItem('categoryName');\n     this.service.listProducts(parseInt(this.category)).subscribe(result => {\n       if (result) {\n        this.lista = result;\n       } else {\n        alert('No se encontraron datos');\n       }\n     },\n     err =>{\n      const error = err as HttpErrorResponse;\n    \n      if(error.status === 403){\n  \n        this.message = 'Tiempo agotado';\n        \n      }else{\n        this.message = String(err.error.message);\n      }\n      Swal.fire('Oops',this.message,'error');\n      location.replace('/login');\n    });\n   }\n   getUsd(){\n     this.serviceCurrency.getUsdPrice().subscribe(result =>{\n       if(result){\n         this.currency = result;\n         console.log(this.currency.quotes.USDCOP);\n       }else{\n         console.log('Nada');\n       }\n     });\n   }\n}\n","import { NgModule } from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router'\nimport { ListarProductComponent } from './components/listar-product.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ListarProductComponent\n    }\n];\n\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n\nexport class ListarProductRounting{}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { ListarProductComponent } from './components/listar-product.component';\nimport { CommonModule } from '@angular/common'\nimport { ListarProductRounting } from './listar-product-routing.module';\nimport { ReactiveFormsModule, FormsModule } from \"@angular/forms\";\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { MainNavComponent } from 'src/app/core/components/main-nav/main-nav.component';\n\n\n\n@NgModule({\n    declarations: [\n        ListarProductComponent,\n        MainNavComponent\n    ],\n    imports: [\n        CommonModule,\n        ListarProductRounting,\n        FormsModule,\n        ReactiveFormsModule,\n        NgxPaginationModule,\n        \n    ],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class ListarProductModule { }","import { Injectable } from '@angular/core';\nimport { RestService } from 'src/app/core/services/rest.service';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyService extends RestService{\n\n  constructor(protected http: HttpClient) {\n    super(http);\n   }\n\n   public getUsdPrice():Observable<any> {\n     const rutaCurrency = `/currency/api/live?access_key=aaed874c89ef48420c6f7a00aa3dc222&currencies=COP&source=USD&format=1`;\n     return this.doGet(rutaCurrency);\n   }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RestService } from 'src/app/core/services/rest.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListProductsService extends RestService {\n\n  constructor(\n    protected http: HttpClient) {\n    super(http);\n  }\n\n  public listProducts(id:number): Observable<any> {\n    const rutaPeticion = `/api/product/${id}`;\n   return  this.doGet(rutaPeticion);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}