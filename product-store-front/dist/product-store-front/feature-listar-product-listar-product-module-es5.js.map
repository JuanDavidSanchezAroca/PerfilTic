{"version":3,"sources":["src/app/feature/listar-product/components/listar-product.component.html","src/app/feature/listar-product/components/listar-product.component.scss","src/app/feature/listar-product/components/listar-product.component.ts","src/app/feature/listar-product/listar-product-routing.module.ts","src/app/feature/listar-product/listar-product.module.ts","src/app/feature/listar-product/shared/services/currency.service.ts","src/app/feature/listar-product/shared/services/list-products.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-main-nav></app-main-nav>\\n\\n<div class=\\\"container\\\">\\n    <div class=\\\"my-4\\\">\\n        <h3>List products of Category {{categoryName}}</h3>\\n    </div>\\n    <ul class=\\\"row list-product\\\">\\n        <li *ngFor=\\\"let product of lista | paginate:{itemsPerPage:3 , currentPage:pageActual}\\\" class=\\\"mx-2 my-2\\\" style=\\\"width: auto;\\\">\\n            <ul class=\\\"row list-product\\\">\\n                <div class=\\\"container card px-1\\\">\\n                    <div class=\\\"card-body\\\">\\n                        <div class=\\\"info-product\\\">\\n                            <div>\\n                                <h5>{{product.name}}</h5>\\n                            </div>\\n                            <div class=\\\"\\\">\\n                                <span class=\\\"\\\">{{product.description}}</span>\\n                            </div>\\n                            <div class=\\\"row\\\">\\n                                <div class=\\\"col\\\">\\n                                    <h6>Precio:</h6>\\n                                </div>\\n                                <div class=\\\"col\\\">\\n                                    <span>COP: ${{product.price}}</span>\\n                                </div>\\n                                <div class=\\\"col\\\">\\n                                    <span>USD: ${{ (product.price / currency.quotes.USDCOP).toFixed(3)}}</span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div *ngFor=\\\"let images of product.images\\\" class=\\\"mx-2 my-2\\\" style=\\\"width: auto;\\\">\\n                            <div class=\\\"media \\\">\\n                                <div class=\\\"media-body\\\">\\n                                    <img class=\\\"rounded mx-auto d-block\\\" id=\\\"product-image\\\" src=\\\"{{images}}\\\">\\n                                    <hr class=\\\"mb-1\\\">\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </ul>\\n        </li>\\n    </ul>\\n    <pagination-controls (pageChange)=\\\"pageActual = $event\\\"></pagination-controls>\\n</div>\"","export default \".list-product {\\n  list-style-type: none;\\n}\\n\\n#product-image {\\n  width: 160px;\\n  height: 160px;\\n}\\n\\n.margin-cero {\\n  margin: 0px 0px 0px 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2p1YW4tZGF2aWQvUmVwb3NpdG9yaW9zL1BlcmZpbFRpYy9QZXJmaWxUaWMvcHJvZHVjdC1zdG9yZS1mcm9udC9zcmMvYXBwL2ZlYXR1cmUvbGlzdGFyLXByb2R1Y3QvY29tcG9uZW50cy9saXN0YXItcHJvZHVjdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVhdHVyZS9saXN0YXItcHJvZHVjdC9jb21wb25lbnRzL2xpc3Rhci1wcm9kdWN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0FDRUo7O0FEQUE7RUFDQSxrQ0FBQTtBQ0dBIiwiZmlsZSI6InNyYy9hcHAvZmVhdHVyZS9saXN0YXItcHJvZHVjdC9jb21wb25lbnRzL2xpc3Rhci1wcm9kdWN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtcHJvZHVjdHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxufVxyXG4jcHJvZHVjdC1pbWFnZXtcclxuICAgIHdpZHRoOiAxNjBweDtcclxuICAgIGhlaWdodDogMTYwcHg7XHJcbn1cclxuLm1hcmdpbi1jZXJve1xyXG5tYXJnaW46IDBweCAwcHggMHB4IDBweCAhaW1wb3J0YW50O1xyXG59IiwiLmxpc3QtcHJvZHVjdCB7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbn1cblxuI3Byb2R1Y3QtaW1hZ2Uge1xuICB3aWR0aDogMTYwcHg7XG4gIGhlaWdodDogMTYwcHg7XG59XG5cbi5tYXJnaW4tY2VybyB7XG4gIG1hcmdpbjogMHB4IDBweCAwcHggMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ListProductsService } from '../shared/services/list-products.service';\nimport { Product } from 'src/app/feature/listar-product/shared/interfaces/product';\nimport { Category } from '../../list-category/shared/interfaces/category';\nimport { ListCategoryComponent } from '../../list-category/components/list-category.component';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport Swal from 'sweetalert2';\nimport { CurrencyService } from '../shared/services/currency.service';\nimport { Currency } from '../shared/interfaces/currency';\n\n@Component({\n  selector: 'app-listar-product',\n  templateUrl: './listar-product.component.html',\n  styleUrls: ['./listar-product.component.scss']\n})\nexport class ListarProductComponent implements OnInit {\n  lista: Product[] = [];\n  currency: Currency;\n  pageActual:number = 1;\n  message = '';\n  category:string;\n  categoryName:string;\n  constructor(private service: ListProductsService,\n              private serviceCurrency: CurrencyService) { }\n\n  ngOnInit() {\n    this.getProducts();\n    this.getUsd();\n  }\n   \n   getProducts() {\n     this.category= localStorage.getItem('category');\n     this.categoryName= localStorage.getItem('categoryName');\n     this.service.listProducts(parseInt(this.category)).subscribe(result => {\n       if (result) {\n        this.lista = result;\n       } else {\n        alert('No se encontraron datos');\n       }\n     },\n     err =>{\n      const error = err as HttpErrorResponse;\n    \n      if(error.status === 403){\n  \n        this.message = 'Tiempo agotado';\n        \n      }else{\n        this.message = String(err.error.message);\n      }\n      Swal.fire('Oops',this.message,'error');\n      location.replace('/login');\n    });\n   }\n   getUsd(){\n     this.serviceCurrency.getUsdPrice().subscribe(result =>{\n       if(result){\n         this.currency = result;\n         console.log(this.currency.quotes.USDCOP);\n       }else{\n         console.log('Nada');\n       }\n     });\n   }\n}\n","import { NgModule } from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router'\nimport { ListarProductComponent } from './components/listar-product.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ListarProductComponent\n    }\n];\n\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n\nexport class ListarProductRounting{}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { ListarProductComponent } from './components/listar-product.component';\nimport { CommonModule } from '@angular/common'\nimport { ListarProductRounting } from './listar-product-routing.module';\nimport { ReactiveFormsModule, FormsModule } from \"@angular/forms\";\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { MainNavComponent } from 'src/app/core/components/main-nav/main-nav.component';\n\n\n\n@NgModule({\n    declarations: [\n        ListarProductComponent,\n        MainNavComponent\n    ],\n    imports: [\n        CommonModule,\n        ListarProductRounting,\n        FormsModule,\n        ReactiveFormsModule,\n        NgxPaginationModule,\n        \n    ],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class ListarProductModule { }","import { Injectable } from '@angular/core';\nimport { RestService } from 'src/app/core/services/rest.service';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CurrencyService extends RestService{\n\n  constructor(protected http: HttpClient) {\n    super(http);\n   }\n\n   public getUsdPrice():Observable<any> {\n     const rutaCurrency = `/currency/api/live?access_key=aaed874c89ef48420c6f7a00aa3dc222&currencies=COP&source=USD&format=1`;\n     return this.doGet(rutaCurrency);\n   }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RestService } from 'src/app/core/services/rest.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListProductsService extends RestService {\n\n  constructor(\n    protected http: HttpClient) {\n    super(http);\n  }\n\n  public listProducts(id:number): Observable<any> {\n    const rutaPeticion = `/api/product/${id}`;\n   return  this.doGet(rutaPeticion);\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"feature-listar-product-listar-product-module-es5.js"}